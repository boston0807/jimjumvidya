<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Bai+Jamjuree:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap');
    * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body {
      margin: 0; height: 100vh;
      display: flex; justify-content: center; align-items: center;
      background: linear-gradient(135deg, #ee930a, #f1a310);
      color: #fff;
    }
    .card {
      width: 90%;
      max-width: 420px;
      background: rgba(255,255,255,0.18);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 20px 40px rgba(0,0,0,.3);
    }

    h1 { 
      text-align: center; 
      margin-bottom: 16px;
      font-family: "Bai Jamjuree", sans-serif;
    }

    .question {
      font-size: 18px;
      margin-bottom: 20px;
      min-height: 48px;
      transition: opacity .4s, transform .4s;
      font-family: "Bai Jamjuree", sans-serif;
      text-align: center;
    }
    .answers button {
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      border: none;
      border-radius: 10px;
      background: #1a0f0131;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      transition: background .3s, transform .2s;
      font-size: 16px;
      font-family: "Bai Jamjuree", sans-serif;
    }
    .answers button:hover {
      background: #f06f05;
      transform: translateY(-2px);
    }
    .progress {
      height: 6px;
      background: #e9d41d;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 16px;
      
    }
    .progress-bar {
      height: 100%; width: 0%;
      background: #cf540d;
      transition: width .4s ease;
    }
    .result {
      text-align: center;
    }
    .nav {
      display: flex;
      justify-content: space-between;
      margin-top: 12px;
    }

    .nav button:hover{
      background: #f06f05;
      transform: translateY(-2px);
    }

    .story-progress { display: none; }
    .quiz-progress { display: none; }

    .card.story {
      max-width: 680px;
      padding: 40px;
    }


    .card.story .question {
      font-size: 28px;
      line-height: 1.7;
    }

    .card.quiz {
      max-width: 420px;
      padding: 24px;
    }

    .card.quiz .question {
      font-size: 18px;
    }
    .nav button {
      flex: 1;
      margin: 0 4px;
      padding: 10px;
      border-radius: 10px;
      border: none;
      background: rgba(0,0,0,0.3);
      color: white;
      cursor: pointer;
    }

    .animate-fade {
      opacity: 0;
      transform: translateY(20px);
    }

    .animate-pop {
      opacity: 0;
      transform: scale(.3);
    }

    .card.animate-fade {
      animation-delay: 0.2s;
    }

    .question.animate-fade {
      animation-delay: 0.5s;
    }

    .answers button.animate-fade {
      animation-delay: 0.8s;
    }

    .nav button.animate-fade {
      animation-delay: 1s;
    }

    .result.animate-pop {
      animation-delay: 0.4s;
    }

    .card.result {
      max-width: 420px;
      padding: 32px;
    }

    .card.result .result {
      text-align: center;
      animation: pop .5s ease forwards;
    }


    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
      
    }
    @keyframes pop {
      0% { transform: scale(.3); opacity: 0; }
      50% { transform: scale(.6); opacity: .5;}
      100% { transform: scale(1); opacity: 1; }
    }
    
    .logo img {
      position: absolute;
      top: 0;
      left: 0;
      width: 150px;
    }

    @media (max-width: 480px) {

    .card.quiz {
      min-height: auto;
      max-width: 92%;
      padding: 18px;
      border-radius: 18px;
    }

    .card.quiz .question {
      font-size: 17px;
      line-height: 1.5;
      margin-bottom: 14px;
    }

    .card.quiz .answers button {
      font-size: 16px;
      padding: 12px;

    }

    .nav {
      margin-top: 8px;
    }
    }


  </style>
</head>
<body>
  <div class = "logo" id = "logo"><img src="nobg.png" alt="Logo"></div>
  <div class="card">
    <h1>แบบทดสอบลักษณะนิสัย</h1>
    <div id="quiz">
      <div class="question" id="question"></div>
      <div class="answers" id="answers"></div>
      <div class="nav">
      <button id="prev">ย้อนกลับ</button>
      <button id="next">ถัดไป</button>
      <button id="restart">ลองทำใหม่</button>
      </div>
      <div class="progress story-progress">
        <div class="progress-bar" id="storyBar"></div>
      </div>
      <div class="progress quiz-progress">
        <div class="progress-bar" id="quizBar"></div>
      </div>
        </div>
      </div>

  <script>
    const questions = [
      'วินาทีแรกที่เดินเข้าสวน สิ่งที่ดึงดูดสายตาคุณที่สุดคือ?',
      'เมื่อเจ้าของบ้านยื่น “เครื่องดื่มต้อนรับ” มาให้คุณ คุณจะ…?',
      'ระหว่างรออาหาร คุณเห็นพนักงานคนหนึ่งดูสับสนกับออเดอร์ คุณจะ…?',
      'อาหารจานหลักมาเสิร์ฟแล้ว คุณเริ่มทานยังไง?',
      'มีแขกกลุ่มใหญ่เข้ามาแล้วหาโต๊ะไม่ได้ คุณจะ…?',
      'เจ้าของสวนมาถามความเห็น คุณจะตอบว่า…?',
      'ก่อนกลับ คุณเห็นกล่องของที่ระลึก คุณจะเลือก…?'
    ];

    const choices = [
      ['การตกแต่งโดยรวมกับโทนสีของสวน ที่ดูมีสไตล์และไม่เหมือนที่เคยเห็น', 'เจ้าของบ้านที่ยิ้มทักทายและต้อนรับอย่างเป็นกันเองตั้งแต่หน้าทางเข้า', 'กลิ่นอาหารหอมๆ กับเสียงเพลงสนุกที่ทำให้บรรยากาศคึกคัก', 'การจัดโต๊ะและพื้นที่ที่ดูเป็นระเบียบ เข้าใจง่าย น่านั่ง', 'มุมเงียบๆ ในสวนที่ดูสงบ ลมพัดสบาย เหมาะกับการนั่งพัก'],
      ['รับมาแล้วยิ้มขอบคุณ พร้อมถามว่า “มีอะไรให้ช่วยไหมครับ”', 'รับมาดูสีเครื่องดื่มก่อนแล้วดื่มทันทีด้วยความสดชื่น', 'ขอบคุณก่อน แล้วถามเบาๆ ว่าใช้อะไรเป็นส่วนผสมบ้าง', ' รับมาอย่างสุภาพ ขอบคุณ แล้วเดินไปหาที่นั่งที่รู้สึกสบายใจ', 'ชื่นชมสีของเครื่องดื่ม พร้อมแอบคิดว่าถ้าเติมอะไรนิดหน่อยน่าจะสวยขึ้นอีก'],
      ['เข้าไปช่วยดูรายการและจัดลำดับให้ง่ายขึ้น เพื่อไม่ให้เกิดความวุ่นวาย', 'เดินเข้าไปให้กำลังใจ บอกว่าไม่ต้องรีบ ค่อยๆ ทำได้','พูดส่งเสียงไปให้กำลังใจแบบเป็นกันเองว่า “ไม่เป็นไรครับ รอได้”','มองดูอยู่ห่างๆ ถ้าเขาดูต้องการความช่วยเหลือ ค่อยเข้าไปช่วยเงียบๆ','สังเกตภาพรวม แล้วคิดในใจว่าถ้าจัดพื้นที่หรือขั้นตอนใหม่ น่าจะทำงานง่ายขึ้น'],
      ['เริ่มทานทันทีด้วยความเอร็ดอร่อย','ชวนคนรอบโต๊ะให้ลองชิมไปด้วยกัน','ค่อยๆ ทานตามลำดับ เพื่อให้ได้รสชาติครบถ้วน' ,'ถ่ายรูปก่อนทาน เลือกมุมที่รู้สึกว่าสวยที่สุด', 'ทานช้าๆ อย่างใจเย็น พร้อมชื่นชมรสชาติในใจ'],
      ['เสนอให้เขานั่งที่โต๊ะคุณ แล้วคุณย้ายไปหาที่นั่งเงียบๆ แทน',' เข้าไปช่วยเจ้าของบ้านจัดโต๊ะเพิ่มให้แขกใหม่','เสนอไอเดียจัดโต๊ะใหม่ให้รองรับคนได้มากขึ้นและยังดูดี', 'นั่งทานต่อในโต๊ะที่จองไว้ตามปกติ', 'ชวนแขกกลุ่มนั้นมานั่งรวมโต๊ะเดียวกัน บรรยากาศจะได้คึกคักขึ้น'],
      ['ชมก่อน แล้วเสนอไอเดียเล็กๆ ที่คิดว่าน่าจะทำให้ดูดีขึ้น', 'ให้ความเห็นตรงไปตรงมา แยกเป็นข้อดีและข้อที่ปรับได้', 'ชมทั้งอาหารและบรรยากาศ พร้อมขอบคุณเจ้าของบ้าน', 'บอกสั้นๆ ว่ารู้สึกดีและสบายใจที่ได้มา', 'ชมด้วยน้ำเสียงตื่นเต้น บอกว่าประทับใจและอยากกลับมาอีก'],
      ['ขนมหลายชิ้นไว้เอาไปแบ่งให้คนอื่น', 'สมุดหรือของใช้ที่ดูแข็งแรงและใช้งานได้จริง', 'ของตกแต่งที่ดีไซน์สวยและมีเอกลักษณ์', 'ขนมสีสันสดใสที่ถือแล้วรู้สึกสนุก', 'ต้นไม้หรือของเล็กๆ ที่ดูแลได้เงียบๆ ที่บ้าน']
    ];

    const storyboards = [
      `ค่ำคืนนี้ อากาศเย็นพอดี ลมพัดเอื่อยๆ ผ่านแนวต้นไม้ที่ถูกตกแต่งด้วยไฟระย้าดวงเล็กนับไม่ถ้วน`,
      `แสงสีทองทอดยาวไปตามทางเดินกรวด เสียงหัวเราะแผ่วเบาลอยมากับกลิ่นอาหาร`,
      `ที่นี่ไม่ใช่ร้านอาหาร แต่เป็น “สวนอาหารหรรษา”`,
      `คุณก้าวเท้าเข้าสวน และโดยไม่รู้ตัว... ตัวตนของคุณกำลังถูกสะท้อนออกมา`,
      `ในสวนอาหารแห่งนี้ คุณคือใครกันแน่?`
    ];

    let stepIndex = 0;
    let questionIndex = 0;
    let score = [0,0,0,0,0]; 

    const qEl = document.getElementById('question');
    const aEl = document.getElementById('answers');
    const bar = document.getElementById('bar');
    const card = document.querySelector('.card');
    const title = document.querySelector('h1');
    const storyBar = document.getElementById('storyBar');
    const quizBar = document.getElementById('quizBar');
    const nextbut = document.getElementById('next');
    const prevbut = document.getElementById('prev');
    const restartbut = document.getElementById('restart');
    restartbut.style.display = "none";
  



    function showStory() {

      card.classList.add('story');
      card.classList.remove('quiz');

      document.querySelector('.story-progress').style.display = 'block';
      document.querySelector('.quiz-progress').style.display = 'none';

      qEl.textContent = storyboards[stepIndex];
      aEl.innerHTML = '';

      storyBar.style.width =
        ((stepIndex + 1) / storyboards.length) * 100 + '%';
    }
    
    function showQuestion() {
      card.classList.add('quiz');
      card.classList.remove('story');

      document.querySelector('.story-progress').style.display = 'none';
      document.querySelector('.quiz-progress').style.display = 'block';

      qEl.textContent = questions[questionIndex];
      aEl.innerHTML = '';

      choices[questionIndex].forEach((choice, i) => {
        const btn = document.createElement('button');
        btn.textContent = choice;
        btn.onclick = () => {
          score[i]++;
          questionIndex++;
          nextStep();
        };
        aEl.appendChild(btn);
      });

      quizBar.style.width =
        ((questionIndex + 1) / questions.length) * 100 + '%';
    }


function showResult() {
  card.classList.remove('story');
  card.classList.remove('quiz');
  card.classList.add('result');

  const maxScore = Math.max(...score);
  const typeindex = score.indexOf(maxScore);

  const personalities = ['Greg','Tom','Rose','Ernest','Maggie'];

  qEl.innerHTML = `
    <div class="result animate-pop">
      <h2>ผลลัพธ์คุณเป็นคนที่...</h2>
      <p>คุณเป็นคนที่มีลักษณะ <strong>${personalities[typeindex]}</strong></p>
      <p>เหมือนหมูเด้ง</p>
    </div>
  `;

  aEl.innerHTML = '';
  restartbut.style.display = "inline-block";
  quizBar.style.width = '100%';
}





function nextStep() {
  if (stepIndex < storyboards.length - 1) {
    stepIndex++;
    showStory();
    return;
  }

  if (questionIndex < questions.length) {
    prevbut.style.display = "none";
    nextbut.style.display = "none";
    showQuestion();
    return;
  }

  showResult();
}

    function prevStep() {
      if (stepIndex > 0) {
        stepIndex--;
        showStory();
      }
    }

    function restart() {
      stepIndex = storyboards.length - 1;
      questionIndex = 0;
      score = [0,0,0,0,0];

      card.classList.remove('story', 'result');
      card.classList.add('quiz');

      restartbut.style.display = "none";
      prevbut.style.display = "inline-block";
      nextbut.style.display = "inline-block";

      showQuestion();
    }


    document.getElementById('next').onclick = nextStep;
    document.getElementById('prev').onclick = prevStep;
    restartbut.onclick = restart;
    showStory();
  </script>
</body>
</html>
